{% load static %}
{% load string_filters %}

{% if error %}
<div class="alert alert-danger">
    <i class="fas fa-exclamation-triangle me-2"></i>
    {{ error }}
</div>
{% else %}

<style>
    /* Enhanced Mentor Reactivation Request Modal Design System */
    :root {
        --primary-color: #2b3c6b;
        --ui-surface: #ffffff;
        --ui-border: #e2e8f0;
        --ui-hover: #f7fafc;
        --ui-subtle: #f8fafc;
        --text-primary: #2d3748;
        --text-secondary: #718096;
        --text-muted: #a0aec0;
        --text-light: #ffffff;
        --feedback-success: #48bb78;
        --feedback-warning: #ed8936;
        --feedback-error: #e53e3e;
        --feedback-info: #4299e1;
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
        --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
        --radius-sm: 0.25rem;
        --radius-md: 0.375rem;
        --radius-lg: 0.5rem;
        --space-xs: 0.375rem;
        --space-sm: 0.5rem;
        --space-md: 0.75rem;
        --space-lg: 1rem;
        --space-xl: 1.5rem;
    }

    /* Clean Modal Structure */
    .modal-content {
        border-radius: var(--radius-lg);
        border: 1px solid var(--ui-border);
        box-shadow: var(--shadow-lg);
        font-family: 'Poppins', sans-serif;
        overflow: hidden;
    }

    .modal-body {
        padding: 0;
        font-size: 0.8rem;
        line-height: 1.4;
    }

    /* Refined Tabbed Interface */
    .nav-tabs {
        border-bottom: 1px solid var(--ui-border);
        margin-bottom: 0;
        background: var(--ui-subtle);
        padding: var(--space-sm) var(--space-lg) 0;
        position: sticky;
        top: 0;
        z-index: 10;
    }

    .nav-tabs .nav-link {
        border: none;
        border-radius: var(--radius-sm) var(--radius-sm) 0 0;
        color: var(--text-secondary);
        font-weight: 500;
        font-size: 0.8rem;
        padding: var(--space-md) var(--space-lg);
        margin-right: var(--space-xs);
        background: transparent;
        transition: all 0.15s ease;
        position: relative;
        white-space: nowrap;
    }

    .nav-tabs .nav-link:hover {
        background: rgba(43, 60, 107, 0.08);
        color: var(--primary-color);
        transform: translateY(-1px);
    }

    .nav-tabs .nav-link.active {
        background: var(--ui-surface);
        color: var(--primary-color);
        font-weight: 600;
        box-shadow: var(--shadow-sm);
        border-bottom: 2px solid var(--primary-color);
    }

    .nav-tabs .nav-link i {
        margin-right: var(--space-sm);
        font-size: 0.75rem;
        opacity: 0.8;
    }

    .nav-tabs .nav-link.active i {
        opacity: 1;
    }

    /* Compact Tab Content */
    .tab-content {
        background: var(--ui-surface);
        max-height: 60vh;
        overflow-y: auto;
        scrollbar-width: thin;
        scrollbar-color: var(--ui-border) transparent;
    }

    .tab-content::-webkit-scrollbar {
        width: 6px;
    }

    .tab-content::-webkit-scrollbar-track {
        background: transparent;
    }

    .tab-content::-webkit-scrollbar-thumb {
        background: var(--ui-border);
        border-radius: 3px;
    }

    .tab-pane {
        padding: var(--space-md);
        animation: fadeIn 0.2s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(5px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* Clean Document-Style Sections */
    .content-section {
        margin-bottom: var(--space-md);
        padding: var(--space-md);
        background: var(--ui-surface);
        border: 1px solid var(--ui-border);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-sm);
    }

    .content-section:last-child {
        margin-bottom: 0;
    }

    .section-header {
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--primary-color);
        margin-bottom: var(--space-md);
        display: flex;
        align-items: center;
        padding-bottom: var(--space-xs);
        border-bottom: 1px solid var(--ui-border);
    }

    .section-header i {
        margin-right: var(--space-sm);
        font-size: 0.8rem;
        opacity: 0.8;
    }

    /* Compact Information Grid */
    .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-md);
        margin-top: var(--space-xs);
    }

    .info-item {
        display: flex;
        flex-direction: column;
        min-height: 2.5rem;
    }

    .info-label {
        font-size: 0.7rem;
        font-weight: 600;
        color: var(--text-muted);
        margin-bottom: var(--space-xs);
        text-transform: uppercase;
        letter-spacing: 0.05em;
        line-height: 1.2;
    }

    .info-value {
        font-size: 0.8rem;
        color: var(--text-primary);
        font-weight: 500;
        line-height: 1.3;
        word-break: break-word;
    }

    .info-value a {
        color: var(--primary-color);
        text-decoration: none;
        transition: all 0.15s ease;
    }

    .info-value a:hover {
        color: var(--feedback-info);
        text-decoration: underline;
    }

    /* Status Badge */
    .status-badge {
        display: inline-block;
        padding: var(--space-xs) var(--space-md);
        border-radius: var(--radius-sm);
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .status-badge.pending {
        background: rgba(237, 137, 54, 0.1);
        color: var(--feedback-warning);
        border: 1px solid rgba(237, 137, 54, 0.3);
    }

    .status-badge.approved {
        background: rgba(72, 187, 120, 0.1);
        color: var(--feedback-success);
        border: 1px solid rgba(72, 187, 120, 0.3);
    }

    .status-badge.rejected {
        background: rgba(229, 62, 62, 0.1);
        color: var(--feedback-error);
        border: 1px solid rgba(229, 62, 62, 0.3);
    }

    .verification-badge {
        display: inline-block;
        padding: var(--space-xs) var(--space-sm);
        border-radius: var(--radius-sm);
        font-size: 0.7rem;
        font-weight: 600;
    }

    .verification-badge.verified {
        background: rgba(72, 187, 120, 0.1);
        color: var(--feedback-success);
    }

    .verification-badge.unverified {
        background: rgba(229, 62, 62, 0.1);
        color: var(--feedback-error);
    }

    /* Reactivation Reason Highlight */
    .reactivation-reason-box {
        background: rgba(66, 153, 225, 0.1);
        border-left: 4px solid var(--feedback-info);
        padding: var(--space-md);
        border-radius: var(--radius-md);
        margin: var(--space-md) 0;
    }

    .reactivation-reason-box h6 {
        font-size: 0.8rem;
        font-weight: 600;
        color: var(--primary-color);
        margin-bottom: var(--space-xs);
    }

    .reactivation-reason-box p {
        font-size: 0.85rem;
        color: var(--text-primary);
        margin: 0;
        white-space: pre-wrap;
        line-height: 1.6;
    }

    /* Removal Reason Box */
    .removal-reason-box {
        background: rgba(229, 62, 62, 0.05);
        border-left: 4px solid var(--feedback-error);
        padding: var(--space-md);
        border-radius: var(--radius-md);
        margin: var(--space-md) 0;
    }

    .removal-reason-box h6 {
        font-size: 0.8rem;
        font-weight: 600;
        color: var(--feedback-error);
        margin-bottom: var(--space-xs);
    }

    .removal-reason-box p {
        font-size: 0.85rem;
        color: var(--text-primary);
        margin: 0;
        white-space: pre-wrap;
        line-height: 1.6;
    }

    /* Action Buttons */
    .modal-actions {
        border-top: 1px solid var(--ui-border);
        background: var(--ui-subtle);
        padding: var(--space-lg);
        display: flex;
        gap: var(--space-sm);
        justify-content: flex-end;
    }

    .modal-actions .btn {
        font-size: 0.875rem;
        font-weight: 500;
        padding: var(--space-sm) var(--space-lg);
        border-radius: var(--radius-sm);
        transition: all 0.15s ease;
    }

    .modal-actions .btn:hover {
        transform: translateY(-1px);
        box-shadow: var(--shadow-sm);
    }

    /* Admin Notes Input */
    .admin-notes-section {
        background: var(--ui-subtle);
        padding: var(--space-md);
        border-radius: var(--radius-md);
        border: 1px solid var(--ui-border);
        margin-top: var(--space-md);
    }

    .admin-notes-section label {
        font-size: 0.8rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: var(--space-xs);
    }

    .admin-notes-section textarea {
        font-size: 0.8rem;
        border-radius: var(--radius-sm);
        border: 1px solid var(--ui-border);
        resize: vertical;
    }

    /* Request Header */
    .request-header {
        border-bottom: 1px solid var(--ui-border);
        background: var(--ui-surface);
        padding: var(--space-lg);
    }

    .request-header h5 {
        font-weight: 600;
        color: var(--text-primary);
        font-size: 1rem;
        margin-bottom: var(--space-xs);
    }

    .request-header p {
        color: var(--text-secondary);
        font-size: 0.8rem;
        margin: 0;
    }

    /* Badge Styling */
    .badge {
        font-size: 0.7rem;
        font-weight: 500;
        padding: var(--space-xs) var(--space-sm);
        border-radius: var(--radius-sm);
    }

    .badge-group {
        display: flex;
        gap: var(--space-xs);
        flex-wrap: wrap;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .nav-tabs {
            padding: var(--space-xs) var(--space-sm) 0;
            overflow-x: auto;
            scrollbar-width: none;
        }

        .nav-tabs::-webkit-scrollbar {
            display: none;
        }

        .nav-tabs .nav-link {
            font-size: 0.75rem;
            padding: var(--space-sm) var(--space-md);
            white-space: nowrap;
        }

        .tab-pane {
            padding: var(--space-sm);
        }

        .info-grid {
            grid-template-columns: 1fr;
            gap: var(--space-sm);
        }

        .content-section {
            padding: var(--space-sm);
            margin-bottom: var(--space-sm);
        }

        .modal-actions {
            flex-direction: column;
        }

        .modal-actions .btn {
            width: 100%;
        }
    }
</style>

<!-- Request Profile Header -->
<div class="request-header">
    <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex align-items-center">
            <div class="avatar-wrapper me-3">
                {% if reactivation_request.mentor.user.profile.avatar %}
                    <img src="{{ reactivation_request.mentor.user.profile.avatar.url }}" alt="{{ reactivation_request.mentor.user.get_full_name }}" class="rounded-circle" style="width: 48px; height: 48px; object-fit: cover;">
                {% else %}
                    <img src="{% static 'images/default-avatar.png' %}" alt="Default Avatar" class="rounded-circle" style="width: 48px; height: 48px; object-fit: cover;">
                {% endif %}
            </div>
            <div class="flex-grow-1">
                <h5>{{ reactivation_request.mentor.user.get_full_name }}</h5>
                <p>{{ reactivation_request.email }}</p>
                <p class="text-muted mb-0">
                    <i class="fas fa-calendar me-1"></i>
                    Requested: {{ reactivation_request.requested_at|date:"M d, Y H:i" }}
                </p>
                {% if reactivation_request.request_reason %}
                <div class="mt-2 p-2" style="background: rgba(66, 153, 225, 0.1); border-left: 3px solid var(--feedback-info); border-radius: var(--radius-sm);">
                    <small class="text-muted d-block mb-1" style="font-weight: 600; text-transform: uppercase; font-size: 0.7rem;">
                        <i class="fas fa-comment-alt me-1"></i>Reactivation Reason
                    </small>
                    <p class="mb-0" style="font-size: 0.85rem; color: var(--text-primary); white-space: pre-wrap;">{{ reactivation_request.request_reason }}</p>
                </div>
                {% else %}
                <div class="mt-2 p-2" style="background: rgba(160, 174, 192, 0.1); border-left: 3px solid var(--text-muted); border-radius: var(--radius-sm);">
                    <small class="text-muted" style="font-size: 0.8rem;">
                        <i class="fas fa-info-circle me-1"></i>No reactivation reason provided
                    </small>
                </div>
                {% endif %}
            </div>
        </div>
        <div>
            <span class="status-badge {{ reactivation_request.status|lower }}">{{ reactivation_request.get_status_display }}</span>
        </div>
    </div>
</div>

<!-- Modal Content -->
<div class="modal-content-wrapper p-0">
    <!-- Refined Tab Navigation -->
    <ul class="nav nav-tabs" id="reactivationRequestDetailTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button" role="tab" aria-controls="overview" aria-selected="true">
                <i class="fas fa-info-circle"></i>
                Overview
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="mentor-info-tab" data-bs-toggle="tab" data-bs-target="#mentor-info" type="button" role="tab" aria-controls="mentor-info" aria-selected="false">
                <i class="fas fa-user"></i>
                Mentor Info
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="request-details-tab" data-bs-toggle="tab" data-bs-target="#request-details" type="button" role="tab" aria-controls="request-details" aria-selected="false">
                <i class="fas fa-clipboard-list"></i>
                Request Details
            </button>
        </li>
    </ul>

    <!-- Tab Content -->
    <div class="tab-content" id="reactivationRequestDetailTabContent">
        <!-- Overview Tab -->
        <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
            <div class="row g-3">
                <div class="col-12">
                    <!-- Reactivation Reason (Prominently Displayed) -->
                    <div class="reactivation-reason-box">
                        <h6><i class="fas fa-comment-alt me-2"></i>Reactivation Reason</h6>
                        {% if reactivation_request.request_reason %}
                        <p>{{ reactivation_request.request_reason }}</p>
                        {% else %}
                        <p class="text-muted mb-0" style="font-style: italic;">No reason provided by the mentor.</p>
                        {% endif %}
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="content-section">
                        <div class="section-header">
                            <i class="fas fa-info-circle"></i>
                            Request Information
                        </div>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Status</span>
                                <span class="status-badge {{ reactivation_request.status|lower }}">{{ reactivation_request.get_status_display }}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Verification</span>
                                {% if reactivation_request.is_verified %}
                                <span class="verification-badge verified">
                                    <i class="fas fa-check-circle me-1"></i>Verified
                                </span>
                                {% else %}
                                <span class="verification-badge unverified">
                                    <i class="fas fa-times-circle me-1"></i>Unverified
                                </span>
                                {% endif %}
                            </div>
                            <div class="info-item">
                                <span class="info-label">Request Date</span>
                                <span class="info-value">{{ reactivation_request.requested_at|date:"M d, Y H:i" }}</span>
                            </div>
                            {% if reactivation_request.reviewed_at %}
                            <div class="info-item">
                                <span class="info-label">Review Date</span>
                                <span class="info-value">{{ reactivation_request.reviewed_at|date:"M d, Y H:i" }}</span>
                            </div>
                            {% endif %}
                            {% if reactivation_request.reviewed_by %}
                            <div class="info-item">
                                <span class="info-label">Reviewed By</span>
                                <span class="info-value">{{ reactivation_request.reviewed_by.get_full_name }}</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="content-section">
                        <div class="section-header">
                            <i class="fas fa-ban"></i>
                            Removal Information
                        </div>
                        {% if reactivation_request.mentor.removal_reason %}
                        <div class="removal-reason-box">
                            <h6><i class="fas fa-exclamation-triangle me-2"></i>Removal Reason</h6>
                            <p>{{ reactivation_request.mentor.removal_reason }}</p>
                        </div>
                        {% if reactivation_request.mentor.removed_at %}
                        <div class="info-grid mt-3">
                            <div class="info-item">
                                <span class="info-label">Removed On</span>
                                <span class="info-value">{{ reactivation_request.mentor.removed_at|date:"M d, Y H:i" }}</span>
                            </div>
                            {% if reactivation_request.mentor.removed_by %}
                            <div class="info-item">
                                <span class="info-label">Removed By</span>
                                <span class="info-value">{{ reactivation_request.mentor.removed_by.get_full_name }}</span>
                            </div>
                            {% endif %}
                        </div>
                        {% endif %}
                        {% else %}
                        <p class="text-muted mb-0">No removal reason recorded.</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Mentor Info Tab -->
        <div class="tab-pane fade" id="mentor-info" role="tabpanel" aria-labelledby="mentor-info-tab">
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="content-section">
                        <div class="section-header">
                            <i class="fas fa-user"></i>
                            Mentor Profile
                        </div>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Full Name</span>
                                <span class="info-value">{{ reactivation_request.mentor.user.get_full_name }}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Email</span>
                                <a href="mailto:{{ reactivation_request.mentor.user.email }}" class="info-value">
                                    <i class="fas fa-envelope me-1"></i>
                                    {{ reactivation_request.mentor.user.email }}
                                </a>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Username</span>
                                <span class="info-value">{{ reactivation_request.mentor.user.username }}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Status</span>
                                <span class="status-badge {% if reactivation_request.mentor.is_active %}approved{% else %}rejected{% endif %}">
                                    {% if reactivation_request.mentor.is_active %}Active{% else %}Inactive{% endif %}
                                </span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Verified</span>
                                <span class="badge {% if reactivation_request.mentor.is_verified %}bg-success{% else %}bg-warning{% endif %}">
                                    {% if reactivation_request.mentor.is_verified %}Yes{% else %}No{% endif %}
                                </span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Availability</span>
                                <span class="info-value">{{ reactivation_request.mentor.get_availability_status_display }}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="content-section">
                        <div class="section-header">
                            <i class="fas fa-star"></i>
                            Expertise & Mentorship
                        </div>
                        <div class="info-grid">
                            {% if reactivation_request.mentor.expertise_areas %}
                            <div class="info-item" style="grid-column: 1 / -1;">
                                <span class="info-label">Expertise Areas</span>
                                <div class="badge-group mt-1">
                                    {% for area in reactivation_request.mentor.expertise_areas|split:',' %}
                                    <span class="badge bg-primary">{{ area|strip }}</span>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endif %}
                            <div class="info-item">
                                <span class="info-label">Current Mentees</span>
                                <span class="info-value">{{ reactivation_request.mentor.current_mentees }}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Max Mentees</span>
                                <span class="info-value">{{ reactivation_request.mentor.max_mentees }}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Accepting Mentees</span>
                                <span class="badge {% if reactivation_request.mentor.accepting_mentees %}bg-success{% else %}bg-secondary{% endif %}">
                                    {% if reactivation_request.mentor.accepting_mentees %}Yes{% else %}No{% endif %}
                                </span>
                            </div>
                            {% if reactivation_request.mentor.mentoring_experience %}
                            <div class="info-item" style="grid-column: 1 / -1;">
                                <span class="info-label">Mentoring Experience</span>
                                <div class="info-value" style="white-space: pre-wrap; line-height: 1.6;">{{ reactivation_request.mentor.mentoring_experience }}</div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Request Details Tab -->
        <div class="tab-pane fade" id="request-details" role="tabpanel" aria-labelledby="request-details-tab">
            <div class="row g-3">
                <div class="col-12">
                    <!-- Reactivation Reason Section -->
                    <div class="reactivation-reason-box">
                        <h6><i class="fas fa-comment-alt me-2"></i>Reactivation Reason</h6>
                        {% if reactivation_request.request_reason %}
                        <p>{{ reactivation_request.request_reason }}</p>
                        {% else %}
                        <p class="text-muted mb-0" style="font-style: italic;">No reason provided by the mentor.</p>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-12">
                    <div class="content-section">
                        <div class="section-header">
                            <i class="fas fa-clipboard-list"></i>
                            Request Information
                        </div>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Request ID</span>
                                <span class="info-value">#{{ reactivation_request.id }}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Requested By</span>
                                <span class="info-value">{{ reactivation_request.requested_by.get_full_name }}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Email Used</span>
                                <a href="mailto:{{ reactivation_request.email }}" class="info-value">
                                    <i class="fas fa-envelope me-1"></i>
                                    {{ reactivation_request.email }}
                                </a>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Verification Status</span>
                                {% if reactivation_request.is_verified %}
                                <span class="verification-badge verified">
                                    <i class="fas fa-check-circle me-1"></i>Verified
                                </span>
                                {% else %}
                                <span class="verification-badge unverified">
                                    <i class="fas fa-times-circle me-1"></i>Unverified
                                </span>
                                {% endif %}
                            </div>
                            <div class="info-item">
                                <span class="info-label">Request Date</span>
                                <span class="info-value">{{ reactivation_request.requested_at|date:"M d, Y H:i" }}</span>
                            </div>
                            {% if reactivation_request.verification_code_expires_at %}
                            <div class="info-item">
                                <span class="info-label">Code Expires</span>
                                <span class="info-value">{{ reactivation_request.verification_code_expires_at|date:"M d, Y H:i" }}</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                {% if reactivation_request.reviewed_at %}
                <div class="col-12">
                    <div class="content-section">
                        <div class="section-header">
                            <i class="fas fa-check-circle"></i>
                            Review Information
                        </div>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Review Date</span>
                                <span class="info-value">{{ reactivation_request.reviewed_at|date:"M d, Y H:i" }}</span>
                            </div>
                            {% if reactivation_request.reviewed_by %}
                            <div class="info-item">
                                <span class="info-label">Reviewed By</span>
                                <span class="info-value">{{ reactivation_request.reviewed_by.get_full_name }}</span>
                            </div>
                            {% endif %}
                            {% if reactivation_request.admin_notes %}
                            <div class="info-item" style="grid-column: 1 / -1;">
                                <span class="info-label">Admin Notes</span>
                                <div class="info-value" style="white-space: pre-wrap; line-height: 1.6;">{{ reactivation_request.admin_notes }}</div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Action Buttons (Only for PENDING requests) -->
{% if reactivation_request.status == 'PENDING' %}
<div class="modal-actions">
    <div class="admin-notes-section" style="width: 100%; margin-bottom: var(--space-md);">
        <label for="admin-notes-input">
            <i class="fas fa-comment-alt me-1"></i>
            Admin Notes <span class="text-muted">(Optional for approval, required for rejection)</span>
        </label>
        <textarea 
            id="admin-notes-input" 
            class="form-control" 
            rows="3" 
            placeholder="Enter admin notes here..."
        ></textarea>
    </div>
    <button type="button" class="btn btn-success" id="approveReactivationBtn" data-request-id="{{ reactivation_request.id }}">
        <i class="fas fa-check me-1"></i>
        Approve Reactivation
    </button>
    <button type="button" class="btn btn-danger" id="rejectReactivationBtn" data-request-id="{{ reactivation_request.id }}">
        <i class="fas fa-times me-1"></i>
        Reject Reactivation
    </button>
</div>
{% endif %}

<style>
/* SweetAlert2 Custom Styling for Mentor Review */
.swal2-popup-mentor-review {
    font-family: 'Poppins', sans-serif;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
}

.swal2-title-mentor-review {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
}

.swal2-html-container-mentor-review {
    font-size: 0.9rem;
    color: var(--text-secondary);
    line-height: 1.6;
}

.swal2-confirm-mentor-review {
    font-size: 0.875rem;
    font-weight: 500;
    padding: var(--space-sm) var(--space-lg);
    border-radius: var(--radius-sm);
    transition: all 0.15s ease;
}

.swal2-confirm-mentor-review:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

.swal2-cancel-mentor-review {
    font-size: 0.875rem;
    font-weight: 500;
    padding: var(--space-sm) var(--space-lg);
    border-radius: var(--radius-sm);
    transition: all 0.15s ease;
}

.swal2-cancel-mentor-review:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}
</style>

{% endif %}

