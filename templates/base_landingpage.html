{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}NORSU Alumni Network{% endblock title %}</title>
    
    <!-- Google Fonts - Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome - Multiple sources for reliability -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css" rel="stylesheet">
    <!-- Fallback Font Awesome 5 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    
    <!-- Landing Page Styles -->
    <link href="{% static 'css/landing_page.css' %}" rel="stylesheet">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Landing Page Navbar -->
    <nav class="navbar navbar-expand-lg landing-navbar">
        <div class="container">
            <!-- Brand -->
            <a class="navbar-brand" href="{% url 'core:home' %}">
                <img src="{% static 'images/logo_norsu.png' %}" alt="NORSU Logo">
                NORSU Alumni
            </a>

            <!-- Navbar Toggler -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#landingNavbar" aria-controls="landingNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Enhanced Navbar Content -->
            <div class="collapse navbar-collapse" id="landingNavbar">
                <!-- Main Navigation - Logical User Journey Order -->
                <ul class="navbar-nav main-nav">
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}" href="{% url 'core:home' %}">
                            <i class="fas fa-home"></i>
                            <span>Home</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'about_us' %}active{% endif %}" href="{% url 'core:about_us' %}">
                            <i class="fas fa-university"></i>
                            <span>About</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'landing_events' %}active{% endif %}" href="{% url 'core:landing_events' %}">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Events</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'careers' %}active{% endif %}" href="{% url 'jobs:careers' %}">
                            <i class="fas fa-briefcase"></i>
                            <span>Careers</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'contact_us' %}active{% endif %}" href="{% url 'core:contact_us' %}">
                            <i class="fas fa-envelope"></i>
                            <span>Contact</span>
                        </a>
                    </li>
                </ul>

                <!-- Authentication Buttons - Right Aligned -->
                <ul class="navbar-nav auth-buttons">
                    <li class="nav-item">
                        <a class="nav-link btn-login" href="{% url 'account_login' %}">
                            <i class="fas fa-sign-in-alt"></i>
                            <span>Login</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn-signup" href="{% url 'account_login' %}">
                            <i class="fas fa-rocket"></i>
                            <span>Join Now</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        {% block page_header %}{% endblock page_header %}
        {% block content %}{% endblock content %}
    </main>

    <!-- Footer -->
    <footer class="landing-footer">
        <div class="footer-content">
            <div class="container">
                <div class="row">
                    <!-- Brand Section -->
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="footer-brand">
                            <div class="brand-logo">
                                <img src="{% static 'images/logo_norsu.png' %}" alt="NORSU Logo" class="footer-logo">
                                <h5 class="brand-title">NORSU Alumni</h5>
                            </div>
                            <p class="brand-description">
                                Connecting NORSU alumni worldwide through a comprehensive network that fosters professional growth, 
                                community engagement, and lifelong relationships.
                            </p>
                        </div>
                    </div>

                    <!-- Quick Links -->
                    <div class="col-lg-2 col-md-6 mb-4">
                        <div class="footer-section">
                            <h6 class="footer-title">Quick Links</h6>
                            <ul class="footer-links">
                                <li><a href="{% url 'core:home' %}"><i class="fas fa-home"></i>Home</a></li>
                                <li><a href="{% url 'core:landing_events' %}"><i class="fas fa-calendar-alt"></i>Events</a></li>
                                <li><a href="{% url 'core:landing_announcements' %}"><i class="fas fa-bullhorn"></i>Announcements</a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Information -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="footer-section">
                            <h6 class="footer-title">Information</h6>
                            <ul class="footer-links">
                                <li><a href="{% url 'core:about_us' %}"><i class="fas fa-info-circle"></i>About Us</a></li>
                                <li><a href="{% url 'core:contact_us' %}"><i class="fas fa-envelope"></i>Contact Us</a></li>
                                <li><a href="#"><i class="fas fa-shield-alt"></i>Privacy Policy</a></li>
                                <li><a href="#"><i class="fas fa-file-contract"></i>Terms of Service</a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Contact Info -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="footer-section">
                            <h6 class="footer-title">Contact Info</h6>
                            <div class="contact-info">
                                {% load cms_tags %}
                                {% get_contact_info as cms_contact_info %}
                                {% if cms_contact_info %}
                                    {% for info in cms_contact_info %}
                                        {% if info.contact_type == 'address' or info.contact_type == 'email' or info.contact_type == 'phone' %}
                                        <div class="contact-item mb-3">
                                            {% if info.contact_type == 'address' %}
                                                <i class="fas fa-map-marker-alt me-2"></i>
                                            {% elif info.contact_type == 'email' %}
                                                <i class="fas fa-envelope me-2"></i>
                                            {% elif info.contact_type == 'phone' %}
                                                <i class="fas fa-phone me-2"></i>
                                            {% endif %}
                                            <span>{{ info.value|linebreaksbr }}</span>
                                        </div>
                                        {% endif %}
                                    {% endfor %}
                                {% else %}
                                    <!-- Fallback contact information -->
                                    <div class="contact-item mb-3">
                                        <i class="fas fa-map-marker-alt me-2"></i>
                                        <span>Negros Oriental State University<br>Dumaguete City, Philippines</span>
                                    </div>
                                    <div class="contact-item mb-3">
                                        <i class="fas fa-phone me-2"></i>
                                        <span>+63 35 422 6002</span>
                                    </div>
                                    <div class="contact-item mb-3">
                                        <i class="fas fa-envelope me-2"></i>
                                        <span>alumni@norsu.edu.ph</span>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer Bottom -->
                <div class="footer-bottom">
                    <p>&copy; {% now "Y" %} NORSU Alumni Network. All rights reserved. | Developed with ❤️ for NORSU Community</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Enhanced Navbar JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navbar = document.querySelector('.landing-navbar');
            let lastScrollTop = 0;

            // Navbar scroll effect
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

                if (scrollTop > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }

                lastScrollTop = scrollTop;
            });

            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    // Only prevent default and scroll if it's a valid anchor link
                    if (href && href.startsWith('#')) {
                        e.preventDefault();
                        const target = document.querySelector(href);
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    }
                });
            });

            // Close mobile menu when clicking on a link
            const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
            const navbarCollapse = document.querySelector('.navbar-collapse');

            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (navbarCollapse.classList.contains('show')) {
                        const bsCollapse = new bootstrap.Collapse(navbarCollapse);
                        bsCollapse.hide();
                    }
                });
            });
        });
    </script>

    {% block extra_js %}{% endblock extra_js %}
</body>
</html>
