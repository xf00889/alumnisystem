{% extends "docs/base.html" %}

{% block doc_title %}Error - Documentation{% endblock %}

{% block page_title %}Error Loading Documentation{% endblock %}

{% block doc_content %}
<div class="docs-content-inner">
    <div class="docs-error-page">
        <div class="docs-error-icon">
            <i class="fas fa-exclamation-triangle fa-5x text-warning"></i>
        </div>
        
        <h1 class="docs-error-title">Error Loading Documentation</h1>
        
        <div class="docs-error-message">
            <p class="lead">
                We encountered an error while trying to load this documentation page.
            </p>
            
            {% if error_message %}
            <div class="alert alert-danger" role="alert">
                <i class="fas fa-exclamation-circle me-2"></i>
                <strong>Error Details:</strong> {{ error_message }}
            </div>
            {% endif %}
            
            {% if doc_path %}
            <div class="alert alert-info" role="alert">
                <i class="fas fa-info-circle me-2"></i>
                <strong>Document path:</strong> <code>{{ doc_path }}</code>
            </div>
            {% endif %}
            
            {% if error_type %}
            <div class="alert alert-secondary" role="alert">
                <i class="fas fa-tag me-2"></i>
                <strong>Error type:</strong> {{ error_type }}
            </div>
            {% endif %}
        </div>
        
        <div class="docs-error-actions">
            <h3>What can you do?</h3>
            <ul class="docs-error-suggestions">
                <li>
                    <i class="fas fa-redo me-2"></i>
                    Try <a href="javascript:window.location.reload()">refreshing the page</a>
                </li>
                <li>
                    <i class="fas fa-home me-2"></i>
                    <a href="{% url 'docs:index' %}">Return to Documentation Home</a>
                </li>
                <li>
                    <i class="fas fa-search me-2"></i>
                    Use the <a href="{% url 'docs:search' %}">search feature</a> to find alternative documentation
                </li>
                <li>
                    <i class="fas fa-history me-2"></i>
                    Go back to the <a href="javascript:history.back()">previous page</a>
                </li>
                <li>
                    <i class="fas fa-user-shield me-2"></i>
                    If this problem persists, please contact the system administrator
                </li>
            </ul>
        </div>
        
        <div class="docs-error-technical mt-4">
            <details>
                <summary class="text-muted">
                    <i class="fas fa-code me-2"></i>Technical Information (for administrators)
                </summary>
                <div class="mt-3 p-3 bg-light border rounded">
                    <p><strong>Timestamp:</strong> {{ timestamp|default:"Not available" }}</p>
                    <p><strong>User:</strong> {{ request.user.username|default:"Anonymous" }}</p>
                    <p><strong>Path:</strong> {{ request.path }}</p>
                    {% if error_id %}
                    <p><strong>Error ID:</strong> <code>{{ error_id }}</code></p>
                    <p class="text-muted small">This error has been logged. Please reference this ID when contacting support.</p>
                    {% endif %}
                </div>
            </details>
        </div>
        
        <div class="docs-error-buttons mt-4">
            <a href="{% url 'docs:index' %}" class="btn btn-primary btn-lg">
                <i class="fas fa-home me-2"></i>Go to Documentation Home
            </a>
            <button onclick="window.location.reload()" class="btn btn-outline-secondary btn-lg ms-2">
                <i class="fas fa-redo me-2"></i>Refresh Page
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block doc_footer %}
<!-- No prev/next navigation on error page -->

<!-- Scroll to Top Button -->
<button class="docs-scroll-top" id="scrollToTop" aria-label="Scroll to top">
    <i class="fas fa-arrow-up"></i>
</button>
{% endblock %}
